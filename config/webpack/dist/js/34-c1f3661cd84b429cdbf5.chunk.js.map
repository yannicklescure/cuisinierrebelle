{"version":3,"file":"js/34-c1f3661cd84b429cdbf5.chunk.js","sources":["webpack:///./app/javascript/vue/components/buttons/SocialSharingModal.vue","webpack:///./app/javascript/vue/components/buttons/SocialSharingModal.vue?5849","webpack:///./app/javascript/vue/components/buttons/SocialSharingModal.vue?dbc7","webpack:///SocialSharingModal.vue","webpack:///./app/javascript/vue/components/buttons/SocialSharingModal.vue?8d76"],"sourcesContent":["import { render, staticRenderFns } from \"./SocialSharingModal.vue?vue&type=template&id=7eee8fd4&\"\nimport script from \"./SocialSharingModal.vue?vue&type=script&lang=js&\"\nexport * from \"./SocialSharingModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/torac/code/cuisinierrebelle/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7eee8fd4')) {\n      api.createRecord('7eee8fd4', component.options)\n    } else {\n      api.reload('7eee8fd4', component.options)\n    }\n    module.hot.accept(\"./SocialSharingModal.vue?vue&type=template&id=7eee8fd4&\", function () {\n      api.rerender('7eee8fd4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/vue/components/buttons/SocialSharingModal.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialSharingModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialSharingModal.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialSharingModal.vue?vue&type=template&id=7eee8fd4&\"","<template>\n  <div :ref=\"`modal-${item.recipe.id}`\" class=\"modal fade\" :id=\"`modal-${item.recipe.id}`\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"shareModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header d-flex align-items-center\">\n          <h5 class=\"modal-title\" id=\"shareModalLabel\">\n            <span class=\"ml-2\">{{ $t('item.share') }}</span>\n          </h5>\n          <button type=\"button\" class=\"btn btn-sm close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <social-sharing v-bind:item=\"item\"></social-sharing>\n        </div>\n        <div class=\"modal-footer d-flex justify-content-between\">\n          <span class=\"text-secondary\">{{ itemCurrentUrl }}</span>\n          <button\n            @click=\"shareItemDesktop\"\n            class=\"btn btn-sm d-flex align-items-center\"\n            href=\"javascript:void(0)\">\n              <span class=\"material-icons md-18 mr-2\">{{ contentCopy }}</span>{{ $t('item.copy_to_clipboard') }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import SocialSharing from './SocialSharing.vue'\nconst SocialSharing = () => import('./SocialSharing.vue')\n\nexport default {\n  name: 'SocialSharingModal',\n  data () {\n    return {\n      contentCopy: 'content_copy',\n    }\n  },\n  props: ['item'],\n  components: {\n    SocialSharing,\n  },\n  methods: {\n    shareItemDesktop () {\n      console.log(this.item.recipe.id)\n      const text = `${ window.location.origin }/r/${ this.item.recipe.slug }`\n      console.log(text)\n      navigator.clipboard.writeText(text)\n      .then(() => {\n        console.log('Async: Copying to clipboard was successful!')\n        this.contentCopy = 'done'\n      }, err => {\n        console.error('Async: Could not copy text: ', err)\n        this.contentCopy = 'error'\n      })\n      .finally(() => {\n        setTimeout(() => {\n          // const alert = document.querySelector('.alert')\n          // if (alert) fade(alert).remove()\n          this.contentCopy = 'content_copy'\n        }, 1500);\n      })\n    },\n  },\n  computed: {\n    itemCurrentUrl () {\n      const url = `${ window.location.origin }/r/${ this.item.recipe.slug }`\n      // const url = 'https://www.cuisinierrebelle.com/r/plat-facile-2-viandes-4-legumes-pour-lendemain-de-fetes'\n      return url.length >= 68 ? `${ url.substring(0, 65) }...` : url\n    },\n  }\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      ref: \"modal-\" + _vm.item.recipe.id,\n      staticClass: \"modal fade\",\n      attrs: {\n        id: \"modal-\" + _vm.item.recipe.id,\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"shareModalLabel\",\n        \"aria-hidden\": \"true\"\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"modal-dialog modal-lg\", attrs: { role: \"document\" } },\n        [\n          _c(\"div\", { staticClass: \"modal-content\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"modal-header d-flex align-items-center\" },\n              [\n                _c(\n                  \"h5\",\n                  {\n                    staticClass: \"modal-title\",\n                    attrs: { id: \"shareModalLabel\" }\n                  },\n                  [\n                    _c(\"span\", { staticClass: \"ml-2\" }, [\n                      _vm._v(_vm._s(_vm.$t(\"item.share\")))\n                    ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _vm._m(0)\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"modal-body\" },\n              [_c(\"social-sharing\", { attrs: { item: _vm.item } })],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"modal-footer d-flex justify-content-between\" },\n              [\n                _c(\"span\", { staticClass: \"text-secondary\" }, [\n                  _vm._v(_vm._s(_vm.itemCurrentUrl))\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-sm d-flex align-items-center\",\n                    attrs: { href: \"javascript:void(0)\" },\n                    on: { click: _vm.shareItemDesktop }\n                  },\n                  [\n                    _c(\"span\", { staticClass: \"material-icons md-18 mr-2\" }, [\n                      _vm._v(_vm._s(_vm.contentCopy))\n                    ]),\n                    _vm._v(\n                      _vm._s(_vm.$t(\"item.copy_to_clipboard\")) + \"\\n        \"\n                    )\n                  ]\n                )\n              ]\n            )\n          ])\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\n      \"button\",\n      {\n        staticClass: \"btn btn-sm close\",\n        attrs: {\n          type: \"button\",\n          \"data-dismiss\": \"modal\",\n          \"aria-label\": \"Close\"\n        }\n      },\n      [_c(\"span\", { attrs: { \"aria-hidden\": \"true\" } }, [_vm._v(\"Ã—\")])]\n    )\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8BA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AALA;AAjCA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}