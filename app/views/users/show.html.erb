<div class="container-fluid mt-3 mb-5">
  <div class="d-flex flex-column align-items-between">
    <% if user_signed_in? && @user == current_user %>
    <%= link_to t('.edit_user_registration'), edit_user_registration_path(@user), class: 'text-body' %>
    <% else %>
      <%= render @user %>
    <% end %>
    <small><%= link_to t('.follower', count: @user.followers.count), followers_path, class: 'text-muted' %></small>
  </div>
  <% if user_signed_in? && @user == current_user %>
  <table class="table table-sm">
    <tr>
      <th><%= t('.full_name') %></th>
      <td><%= @user.first_name.capitalize %>&nbsp;<%= @user.last_name.capitalize %>
        <% if @user.checked %>
          <span data-toggle="tooltip" data-placement="top" title="<%= t('.verified') %>" style="font-size: 90%"><%= t('.verified_html') %></span>
        <% end %>
      </td>
    </tr>
    <tr>
      <th><%= t('.email') %></th>
      <td><%= @user.email %></td>
    </tr>
    <tr>
      <th><%= t('.created_at') %></th>
      <td><%= @user.created_at %></td>
    </tr>
    <tr>
      <th><%= t('.updated_at') %></th>
      <td><%= @user.updated_at %></td>
    </tr>
    <tr>
      <th><%= t('.published_recipes') %></th>
      <td><%= @user.recipes.count %></td>
    </tr>
  </table>
  <div class="custom-control custom-switch mailchimp-switch">
    <input type="checkbox" class="custom-control-input" id="mailchimpSwitch"<%= " checked" if @user.mailchimp %>>
    <label class="custom-control-label" for="mailchimpSwitch"><%= t('.subscribe_to_newsletter') %></label>
  </div>
  <div class="custom-control custom-switch notification-switch">
    <input type="checkbox" class="custom-control-input" id="notificationSwitch"<%= " checked" if @user.notification %>>
    <label class="custom-control-label" for="notificationSwitch"><%= t('.receive_emails_about_comments_and_replies') %></label>
  </div>
  <%= @langs %>
  <% else %>
  <div id="root" class="row py-3"<%= " data-bookmarks-count=\"#{@bookmarks.count}\"" if user_signed_in? %>>
    <% if @recipes.any? %>
    <% @recipes.order('created_at DESC').each do |recipe| %>
      <%= render 'shared/card', recipe: recipe %>
    <% end %>
    <% end %>
  </div>
  <% end %>
</div>
