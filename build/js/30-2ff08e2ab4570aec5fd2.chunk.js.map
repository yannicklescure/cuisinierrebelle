{"version":3,"file":"js/30-2ff08e2ab4570aec5fd2.chunk.js","sources":["webpack:///./app/javascript/vue/components/NavbarLarge.vue","webpack:///./app/javascript/vue/components/NavbarLarge.vue?353f","webpack:///./app/javascript/vue/components/NavbarLarge.vue?0854","webpack:///NavbarLarge.vue","webpack:///./app/javascript/vue/components/NavbarLarge.vue?fedd"],"sourcesContent":["import { render, staticRenderFns } from \"./NavbarLarge.vue?vue&type=template&id=1533e971&\"\nimport script from \"./NavbarLarge.vue?vue&type=script&lang=js&\"\nexport * from \"./NavbarLarge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/torac/code/cuisinierrebelle/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1533e971')) {\n      api.createRecord('1533e971', component.options)\n    } else {\n      api.reload('1533e971', component.options)\n    }\n    module.hot.accept(\"./NavbarLarge.vue?vue&type=template&id=1533e971&\", function () {\n      api.rerender('1533e971', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/vue/components/NavbarLarge.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarLarge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarLarge.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavbarLarge.vue?vue&type=template&id=1533e971&\"","<template>\n  <div\n    :key=\"componentKey\"\n    ref=\"navbar\"\n    :class=\"['d-print-none navbar fixed-top d-flex px-3 py-2 justify-content-between align-items-center bg-white mb-3']\"\n    >\n    <div class=\"d-flex align-items-center\">\n      <router-link\n        to=\"/\"\n        class=\"navbar-brand d-flex align-items-center text-body\"\n        @click.native=\"scroll2Top\"\n      >\n        <img v-lazy=\"'https://media.cuisinierrebelle.com/brand-icon.jpg'\" width=\"32\" height=\"32\" class=\"mr-1\">\n        <span>{{ $t('navbar.brand') }}</span>\n      </router-link>\n    </div>\n    <div class=\"input-group d-flex w-25\">\n      <input\n        v-model=\"searchQuery\"\n        v-on:keyup.enter=\"validSearchQuery\"\n        type=\"search\"\n        class=\"form-control\"\n        :placeholder=\"$t('navbar.search')\"\n        ref=\"searchInput\"\n      >\n    </div>\n    <div class=\"d-flex align-items-center\">\n      <div\n        v-if=\"isAuthenticated\"\n        class=\"d-flex align-items-center\"\n      >\n        <router-link to=\"/top100\" class=\"nav-item mx-2 text-fire text-decoration-none\">\n          <i class=\"material-icons md-18 d-flex\">whatshot</i>\n        </router-link>\n        <router-link to=\"/bookmarks\" class=\"nav-item mx-2 text-body text-decoration-none\">\n          <i class=\"material-icons md-18 d-flex\">bookmarks</i>\n        </router-link>\n        <router-link to=\"/notifications\" class=\"nav-item mx-2 text-body text-decoration-none\">\n          <i class=\"material-icons md-18 d-flex\">notifications_none</i>\n        </router-link>\n        <div class=\"nav-item mx-2 dropdown\">\n          <div class=\"text-body mouse-pointer\" role=\"button\" id=\"navbarDropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            <i class=\"material-icons md-18 d-flex\">more_vert</i>\n          </div>\n          <div class=\"dropdown-menu dropdown-menu-md-right\" aria-labelledby=\"navbarDropdown\">\n            <router-link class=\"dropdown-item\" to=\"/r/new\">{{ $t('navbar.new_recipe') }}</router-link>\n            <router-link class=\"dropdown-item\" :to=\"'/u/' + user.slug\">{{ $t('navbar.recipes') }}</router-link>\n            <router-link class=\"dropdown-item\" :to=\"'/u/' + user.slug + '/following'\">{{ $t('navbar.following') }}</router-link>\n            <router-link class=\"dropdown-item\" :to=\"'/u/' + user.slug + '/settings'\">{{ $t('navbar.settings') }}</router-link>\n            <div\n              @click=\"logout\"\n              class=\"dropdown-item mouse-pointer\"\n            >\n              {{ $t('navbar.logout') }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        v-else\n        class=\"d-flex align-items-center\"\n      >\n        <router-link\n          to=\"/login\"\n          class=\"btn btn-sm text-body mx-2 text-decoration-none\"\n        >{{ $t('navbar.login') }}</router-link>\n        <router-link\n          to=\"/signup\"\n          class=\"btn btn-sm btn-dark mx-2\"\n        >{{ $t('navbar.getStarted') }}</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { isMobile } from 'mobile-device-detect'\n\nexport default {\n  name: 'NavbarLarge',\n  data () {\n    return {\n      componentKey: 0,\n      searchQuery: '',\n    }\n  },\n  // components: {\n  //   // Navbar\n  // },\n  created () {\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n  methods: {\n    validSearchQuery () {\n      this.$refs.searchInput.value = ''\n      console.log(this.searchQuery)\n      this.$store.dispatch('SEARCH', { query: this.searchQuery })\n        .then(response => {\n          console.log(response)\n          if (response.status === 200) this.$router.push({ name: 'Search', query: { r: this.searchQuery } })\n        })\n    },\n    scroll2Top (event) {\n      // console.log(this.$route.name)\n      if (this.$route.name === 'Home' && window.scrollY > 0) {\n        event.preventDefault()\n        const scrollOptions = {\n          top: 0,\n          left: 0,\n          behavior: 'smooth'\n        };\n        window.scrollTo(scrollOptions);\n      }\n    },\n    handleScroll (event) {\n      // Code to be executed when the window is scrolled\n      const position = window.scrollY != 0\n      // console.log(position)\n      if (position) this.$refs.navbar.classList.add('border-bottom')\n      else this.$refs.navbar.classList.remove('border-bottom')\n      return position\n    },\n    logout () {\n      let message = this.$t('navbar.are_you_sure')\n\n      let options = {\n          // html: false, // set to true if your message contains HTML tags. eg: \"Delete <b>Foo</b> ?\"\n          // loader: false, // set to true if you want the dailog to show a loader after click on \"proceed\"\n          // reverse: false, // switch the button positions (left to right, and vise versa)\n          okText:  this.$t('navbar.logout'),\n          cancelText: this.$t('navbar.cancel'),\n          // animation: 'zoom', // Available: \"zoom\", \"bounce\", \"fade\"\n          // type: 'basic', // coming soon: 'soft', 'hard'\n          // verification: 'continue', // for hard confirm, user will be prompted to type this to enable the proceed button\n          // verificationHelp: 'Type \"[+:verification]\" below to confirm', // Verification help text. [+:verification] will be matched with 'options.verification' (i.e 'Type \"continue\" below to confirm')\n          // clicksCount: 3, // for soft confirm, user will be asked to click on \"proceed\" btn 3 times before actually proceeding\n          backdropClose: true, // set to true to close the dialog when clicking outside of the dialog window, i.e. click landing on the mask\n          customClass: '' // Custom class to be injected into the parent node for the current dialog instance\n      };\n\n      this.$dialog\n        .confirm(message, options)\n        .then(dialog => {\n          console.log('Clicked on proceed')\n          console.log(dialog)\n          this.$store.dispatch('LOG_OUT', {})\n            .then(response => {\n              console.log(response)\n              if (response.status === 204 && this.$route.name != 'Home') this.$router.push({ name: 'Home' })\n            })\n        })\n        .catch(() => {\n          console.log('Clicked on cancel')\n        });\n    },\n    forceRerender () {\n      this.componentKey += 1;\n    },\n\n    navbarHeight () {\n      this.$store.dispatch('NAVBAR_HEIGHT', parseInt(this.$refs.navbar.offsetHeight))\n    },\n  },\n  computed: {\n    ...mapGetters(['isAuthenticated', 'currentUser']),\n    user () {\n      return this.currentUser\n    },\n    isScrollTop () {\n      return true\n    },\n    // user () {\n    //   return this.$store.getters.currentUser\n    // },\n    // isAuthenticated () {\n    //   // console.log(this.$store)\n    //   // console.log(this.$store.state.data.isAuthenticated)\n    //   // console.log(this.$store.getters.isAuthenticated)\n    //   return this.$store.getters.isAuthenticated\n    // },\n    // items () {\n    //   return this.filter\n    // },\n    mobile () {\n      return isMobile\n    }\n  },\n  beforeMount () {\n    this.forceRerender()\n  },\n  mounted () {\n    this.navbarHeight()\n    this.handleScroll()\n  }\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      key: _vm.componentKey,\n      ref: \"navbar\",\n      class: [\n        \"d-print-none navbar fixed-top d-flex px-3 py-2 justify-content-between align-items-center bg-white mb-3\"\n      ]\n    },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"d-flex align-items-center\" },\n        [\n          _c(\n            \"router-link\",\n            {\n              staticClass: \"navbar-brand d-flex align-items-center text-body\",\n              attrs: { to: \"/\" },\n              nativeOn: {\n                click: function($event) {\n                  return _vm.scroll2Top($event)\n                }\n              }\n            },\n            [\n              _c(\"img\", {\n                directives: [\n                  {\n                    name: \"lazy\",\n                    rawName: \"v-lazy\",\n                    value: \"https://media.cuisinierrebelle.com/brand-icon.jpg\",\n                    expression:\n                      \"'https://media.cuisinierrebelle.com/brand-icon.jpg'\"\n                  }\n                ],\n                staticClass: \"mr-1\",\n                attrs: { width: \"32\", height: \"32\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"navbar.brand\")))])\n            ]\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"input-group d-flex w-25\" }, [\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.searchQuery,\n              expression: \"searchQuery\"\n            }\n          ],\n          ref: \"searchInput\",\n          staticClass: \"form-control\",\n          attrs: { type: \"search\", placeholder: _vm.$t(\"navbar.search\") },\n          domProps: { value: _vm.searchQuery },\n          on: {\n            keyup: function($event) {\n              if (\n                !$event.type.indexOf(\"key\") &&\n                _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n              ) {\n                return null\n              }\n              return _vm.validSearchQuery($event)\n            },\n            input: function($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.searchQuery = $event.target.value\n            }\n          }\n        })\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"d-flex align-items-center\" }, [\n        _vm.isAuthenticated\n          ? _c(\n              \"div\",\n              { staticClass: \"d-flex align-items-center\" },\n              [\n                _c(\n                  \"router-link\",\n                  {\n                    staticClass: \"nav-item mx-2 text-fire text-decoration-none\",\n                    attrs: { to: \"/top100\" }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"material-icons md-18 d-flex\" }, [\n                      _vm._v(\"whatshot\")\n                    ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"router-link\",\n                  {\n                    staticClass: \"nav-item mx-2 text-body text-decoration-none\",\n                    attrs: { to: \"/bookmarks\" }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"material-icons md-18 d-flex\" }, [\n                      _vm._v(\"bookmarks\")\n                    ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"router-link\",\n                  {\n                    staticClass: \"nav-item mx-2 text-body text-decoration-none\",\n                    attrs: { to: \"/notifications\" }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"material-icons md-18 d-flex\" }, [\n                      _vm._v(\"notifications_none\")\n                    ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"nav-item mx-2 dropdown\" }, [\n                  _vm._m(0),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"dropdown-menu dropdown-menu-md-right\",\n                      attrs: { \"aria-labelledby\": \"navbarDropdown\" }\n                    },\n                    [\n                      _c(\n                        \"router-link\",\n                        {\n                          staticClass: \"dropdown-item\",\n                          attrs: { to: \"/r/new\" }\n                        },\n                        [_vm._v(_vm._s(_vm.$t(\"navbar.new_recipe\")))]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"router-link\",\n                        {\n                          staticClass: \"dropdown-item\",\n                          attrs: { to: \"/u/\" + _vm.user.slug }\n                        },\n                        [_vm._v(_vm._s(_vm.$t(\"navbar.recipes\")))]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"router-link\",\n                        {\n                          staticClass: \"dropdown-item\",\n                          attrs: { to: \"/u/\" + _vm.user.slug + \"/following\" }\n                        },\n                        [_vm._v(_vm._s(_vm.$t(\"navbar.following\")))]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"router-link\",\n                        {\n                          staticClass: \"dropdown-item\",\n                          attrs: { to: \"/u/\" + _vm.user.slug + \"/settings\" }\n                        },\n                        [_vm._v(_vm._s(_vm.$t(\"navbar.settings\")))]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"dropdown-item mouse-pointer\",\n                          on: { click: _vm.logout }\n                        },\n                        [\n                          _vm._v(\n                            \"\\n            \" +\n                              _vm._s(_vm.$t(\"navbar.logout\")) +\n                              \"\\n          \"\n                          )\n                        ]\n                      )\n                    ],\n                    1\n                  )\n                ])\n              ],\n              1\n            )\n          : _c(\n              \"div\",\n              { staticClass: \"d-flex align-items-center\" },\n              [\n                _c(\n                  \"router-link\",\n                  {\n                    staticClass:\n                      \"btn btn-sm text-body mx-2 text-decoration-none\",\n                    attrs: { to: \"/login\" }\n                  },\n                  [_vm._v(_vm._s(_vm.$t(\"navbar.login\")))]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"router-link\",\n                  {\n                    staticClass: \"btn btn-sm btn-dark mx-2\",\n                    attrs: { to: \"/signup\" }\n                  },\n                  [_vm._v(_vm._s(_vm.$t(\"navbar.getStarted\")))]\n                )\n              ],\n              1\n            )\n      ])\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\n      \"div\",\n      {\n        staticClass: \"text-body mouse-pointer\",\n        attrs: {\n          role: \"button\",\n          id: \"navbarDropdown\",\n          \"data-toggle\": \"dropdown\",\n          \"aria-haspopup\": \"true\",\n          \"aria-expanded\": \"false\"\n        }\n      },\n      [\n        _c(\"i\", { staticClass: \"material-icons md-18 d-flex\" }, [\n          _vm._v(\"more_vert\")\n        ])\n      ]\n    )\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4EA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAbA;AAeA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AArEA;AAuEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AAtHA;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}