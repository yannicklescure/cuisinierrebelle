{"version":3,"file":"js/47-ad07a93c42ba5630a329.chunk.js","sources":["webpack:///./app/javascript/vue/views/Signup.vue","webpack:///./app/javascript/vue/views/Signup.vue?6e76","webpack:///./app/javascript/vue/views/Signup.vue?a3d2","webpack:///Signup.vue","webpack:///./app/javascript/vue/views/Signup.vue?a6a6"],"sourcesContent":["import { render, staticRenderFns } from \"./Signup.vue?vue&type=template&id=72002f38&\"\nimport script from \"./Signup.vue?vue&type=script&lang=js&\"\nexport * from \"./Signup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/torac/code/cuisinierrebelle/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('72002f38')) {\n      api.createRecord('72002f38', component.options)\n    } else {\n      api.reload('72002f38', component.options)\n    }\n    module.hot.accept(\"./Signup.vue?vue&type=template&id=72002f38&\", function () {\n      api.rerender('72002f38', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/vue/views/Signup.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=template&id=72002f38&\"","<template>\n  <div class=\"container d-flex cr-vh100 justify-content-center align-items-center\" :style=\"{ paddingTop: navbarHeight + 'px' }\">\n    <div class=\"d-flex py-3 justify-content-center align-items-center\">\n      <div class=\"d-flex flex-column w-md-50\">\n        <form>\n          <div class=\"form-group mb-3\">\n            <label for=\"inputFirstName\">{{ $t('signUp.firstName') }}</label>\n            <input v-model=\"firstName\" type=\"text\" class=\"form-control\" id=\"inputFirstName\">\n          </div>\n          <div class=\"form-group mb-3\">\n            <label for=\"inputLastName\">{{ $t('signUp.lastName') }}</label>\n            <input v-model=\"lastName\" type=\"text\" class=\"form-control\" id=\"inputLastName\">\n          </div>\n          <div class=\"form-group mb-3\">\n            <label for=\"inputEmail\">{{ $t('signUp.email') }}</label>\n            <input v-model=\"email\" type=\"email\" class=\"form-control\" id=\"inputEmail\" aria-describedby=\"emailHelp\">\n            <small id=\"emailHelp\" class=\"form-text text-muted\">{{ $t('signUp.disclaimer') }}</small>\n          </div>\n          <label for=\"inputPassword\">{{ $t('signUp.password') }}</label>\n          <div class=\"input-group mb-3\">\n            <input v-model=\"password\" ref=\"password1\" type=\"password\" class=\"form-control\" aria-describedby=\"button-password1\">\n            <div class=\"input-group-append\">\n              <button v-on:click=\"showPassword1\" class=\"btn btn-outline-form\" type=\"button\" id=\"button-password1\">\n                <i ref=\"password1Icon\" class=\"material-icons md-18 d-flex\">visibility_off</i>\n              </button>\n            </div>\n          </div>\n          <label for=\"inputPassword\">{{ $t('signUp.confirmation') }}</label>\n          <div class=\"input-group mb-3\">\n            <input v-model=\"confirmation\" v-on:input=\"allowPost\" v-on:touchend=\"allowPost\" ref=\"password2\" type=\"password\" class=\"form-control\" aria-describedby=\"button-password2\">\n            <div class=\"input-group-append\">\n              <button v-on:click=\"showPassword2\" class=\"btn btn-outline-form\" type=\"button\" id=\"button-password2\">\n                <i ref=\"password2Icon\" class=\"material-icons md-18 d-flex\">visibility_off</i>\n              </button>\n            </div>\n          </div>\n          <div class=\"d-flex justify-content-end\">\n            <button v-on:click.stop.prevent=\"signUp\" type=\"submit\" class=\"btn btn-dark mb-3 w-100\" :disabled=\"disabled\">{{ $t('signUp.submit') }}</button>\n          </div>\n        </form>\n        <div class=\"my-3\">\n          <router-link to=\"/login\">{{ $t('signUp.login') }}</router-link>\n        </div>\n      </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nconst capitalize = (s) => {\n  if (typeof s !== 'string') return ''\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nexport default {\n  name: 'Signup',\n  data () {\n    return {\n      disabled: true,\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      confirmation: null,\n      errors: [],\n    }\n  },\n  // components: {\n  //   // Navbar\n  // },\n  computed: {\n    ...mapGetters(['navbarHeight']),\n  },\n  methods: {\n    allowPost () {\n      if (this.password && this.confirmation) this.disabled = false\n      else this.disabled = true\n    },\n    showPassword1 () {\n      if (this.$refs.password1.type === \"text\") {\n        this.$refs.password1.type = \"password\"\n        this.$refs.password1Icon.innerText = \"visibility_off\"\n      }\n      else {\n        this.$refs.password1.type = \"text\"\n        this.$refs.password1Icon.innerText = \"visibility\"\n        setTimeout(() => {\n          this.showPassword1()\n        }, 3000)\n      }\n    },\n    showPassword2 () {\n      if (this.$refs.password2.type === \"text\") {\n        this.$refs.password2.type = \"password\"\n        this.$refs.password2Icon.innerText = \"visibility_off\"\n      }\n      else {\n        this.$refs.password2.type = \"text\"\n        this.$refs.password2Icon.innerText = \"visibility\"\n        setTimeout(() => {\n          this.showPassword2()\n        }, 3000)\n      }\n    },\n    validateEmail (email) {\n      const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      return re.test(String(email).toLowerCase())\n    },\n    checkForm () {\n      this.errors = []\n      if (!this.firstName) {\n        this.errors.push(this.$t('signUp.errors.firstName'))\n        return false\n      }\n      if (!this.lastName) {\n        this.errors.push(this.$t('signUp.errors.lastName'))\n        return false\n      }\n      if (!this.email) {\n        this.errors.push(this.$t('signUp.errors.email'))\n        return false\n      }\n      if (!this.validateEmail(this.email)) {\n        this.errors.push(this.$t('signUp.errors.emailFormat'))\n        return false\n      }\n      console.log({ password: this.password })\n      console.log({ confirmation: this.confirmation })\n      if (!this.password) {\n        this.errors.push(this.$t('signUp.errors.password'))\n        return false\n      }\n      if (this.password.split('').length < 8) {\n        this.errors.push(this.$t('signUp.errors.passwordLength'))\n        return false\n      }\n      if (this.password != this.confirmation) {\n        this.errors.push(this.$t('signUp.errors.confirmation'))\n        return false\n      }\n      return true\n    },\n    signUp () {\n      // console.log(this.email)\n      const checkForm = this.checkForm()\n      if (checkForm) {\n        const user = {\n          firstName: this.firstName,\n          lastName: this.lastName,\n          email: this.email,\n          password: this.password,\n          confirmation: this.confirmation,\n        }\n        this.$store.dispatch('SIGN_UP', user)\n          .then(response => {\n            console.log(response)\n            if (response.status === 200) {\n              this.$toast.open({\n                message: this.$t('signUp.success'),\n                type: 'info', // success, info, warning, error, default\n                // all of other options may go here\n                position: 'bottom', // top, bottom, top-right, bottom-right,top-left, bottom-left\n                duration: 3000, // Visibility duration in milliseconds\n                dismissible: true,\n              })\n              this.$router.push({ name: 'Home' })\n            }\n            else if (response.response) {\n              // client received an error response (5xx, 4xx)\n              this.errors.push(response.response)\n            }\n            else if (response.request) {\n              // client never received a response, or request never left\n              this.errors.push(response.request)\n            }\n            else {\n              // anything else\n              this.errors.push(response)\n            }\n          })\n      }\n      else {\n        console.log(this.errors)\n        this.$toast.open({\n            message: this.errors[0],\n            type: 'error', // success, info, warning, error, default\n            // all of other options may go here\n            position: 'bottom', // top, bottom, top-right, bottom-right,top-left, bottom-left\n            duration: 3000, // Visibility duration in milliseconds\n            dismissible: true,\n        })\n      }\n    },\n  },\n  beforeMount () {\n    // this.signUpNew()\n  }\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass:\n        \"container d-flex cr-vh100 justify-content-center align-items-center\",\n      style: { paddingTop: _vm.navbarHeight + \"px\" }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"d-flex py-3 justify-content-center align-items-center\"\n        },\n        [\n          _c(\"div\", { staticClass: \"d-flex flex-column w-md-50\" }, [\n            _c(\"form\", [\n              _c(\"div\", { staticClass: \"form-group mb-3\" }, [\n                _c(\"label\", { attrs: { for: \"inputFirstName\" } }, [\n                  _vm._v(_vm._s(_vm.$t(\"signUp.firstName\")))\n                ]),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.firstName,\n                      expression: \"firstName\"\n                    }\n                  ],\n                  staticClass: \"form-control\",\n                  attrs: { type: \"text\", id: \"inputFirstName\" },\n                  domProps: { value: _vm.firstName },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.firstName = $event.target.value\n                    }\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group mb-3\" }, [\n                _c(\"label\", { attrs: { for: \"inputLastName\" } }, [\n                  _vm._v(_vm._s(_vm.$t(\"signUp.lastName\")))\n                ]),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.lastName,\n                      expression: \"lastName\"\n                    }\n                  ],\n                  staticClass: \"form-control\",\n                  attrs: { type: \"text\", id: \"inputLastName\" },\n                  domProps: { value: _vm.lastName },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.lastName = $event.target.value\n                    }\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group mb-3\" }, [\n                _c(\"label\", { attrs: { for: \"inputEmail\" } }, [\n                  _vm._v(_vm._s(_vm.$t(\"signUp.email\")))\n                ]),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.email,\n                      expression: \"email\"\n                    }\n                  ],\n                  staticClass: \"form-control\",\n                  attrs: {\n                    type: \"email\",\n                    id: \"inputEmail\",\n                    \"aria-describedby\": \"emailHelp\"\n                  },\n                  domProps: { value: _vm.email },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.email = $event.target.value\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"small\",\n                  {\n                    staticClass: \"form-text text-muted\",\n                    attrs: { id: \"emailHelp\" }\n                  },\n                  [_vm._v(_vm._s(_vm.$t(\"signUp.disclaimer\")))]\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"label\", { attrs: { for: \"inputPassword\" } }, [\n                _vm._v(_vm._s(_vm.$t(\"signUp.password\")))\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"input-group mb-3\" }, [\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.password,\n                      expression: \"password\"\n                    }\n                  ],\n                  ref: \"password1\",\n                  staticClass: \"form-control\",\n                  attrs: {\n                    type: \"password\",\n                    \"aria-describedby\": \"button-password1\"\n                  },\n                  domProps: { value: _vm.password },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.password = $event.target.value\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"input-group-append\" }, [\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn btn-outline-form\",\n                      attrs: { type: \"button\", id: \"button-password1\" },\n                      on: { click: _vm.showPassword1 }\n                    },\n                    [\n                      _c(\n                        \"i\",\n                        {\n                          ref: \"password1Icon\",\n                          staticClass: \"material-icons md-18 d-flex\"\n                        },\n                        [_vm._v(\"visibility_off\")]\n                      )\n                    ]\n                  )\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\"label\", { attrs: { for: \"inputPassword\" } }, [\n                _vm._v(_vm._s(_vm.$t(\"signUp.confirmation\")))\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"input-group mb-3\" }, [\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.confirmation,\n                      expression: \"confirmation\"\n                    }\n                  ],\n                  ref: \"password2\",\n                  staticClass: \"form-control\",\n                  attrs: {\n                    type: \"password\",\n                    \"aria-describedby\": \"button-password2\"\n                  },\n                  domProps: { value: _vm.confirmation },\n                  on: {\n                    input: [\n                      function($event) {\n                        if ($event.target.composing) {\n                          return\n                        }\n                        _vm.confirmation = $event.target.value\n                      },\n                      _vm.allowPost\n                    ],\n                    touchend: _vm.allowPost\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"input-group-append\" }, [\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn btn-outline-form\",\n                      attrs: { type: \"button\", id: \"button-password2\" },\n                      on: { click: _vm.showPassword2 }\n                    },\n                    [\n                      _c(\n                        \"i\",\n                        {\n                          ref: \"password2Icon\",\n                          staticClass: \"material-icons md-18 d-flex\"\n                        },\n                        [_vm._v(\"visibility_off\")]\n                      )\n                    ]\n                  )\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"d-flex justify-content-end\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-dark mb-3 w-100\",\n                    attrs: { type: \"submit\", disabled: _vm.disabled },\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        $event.preventDefault()\n                        return _vm.signUp($event)\n                      }\n                    }\n                  },\n                  [_vm._v(_vm._s(_vm.$t(\"signUp.submit\")))]\n                )\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"my-3\" },\n              [\n                _c(\"router-link\", { attrs: { to: \"/login\" } }, [\n                  _vm._v(_vm._s(_vm.$t(\"signUp.login\")))\n                ])\n              ],\n              1\n            )\n          ])\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AANA;AACA;AAOA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AANA;AAQA;AACA;AAvHA;AAyHA;AAEA;AA9IA;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}