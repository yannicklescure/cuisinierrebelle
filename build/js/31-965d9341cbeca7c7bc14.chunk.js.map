{"version":3,"file":"js/31-965d9341cbeca7c7bc14.chunk.js","sources":["webpack:///./app/javascript/vue/components/buttons/CommentLike.vue","webpack:///./app/javascript/vue/components/buttons/CommentLike.vue?1459","webpack:///./app/javascript/vue/components/buttons/CommentLike.vue?3c33","webpack:///CommentLike.vue","webpack:///./app/javascript/vue/components/buttons/CommentLike.vue?ab20"],"sourcesContent":["import { render, staticRenderFns } from \"./CommentLike.vue?vue&type=template&id=212948ee&\"\nimport script from \"./CommentLike.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentLike.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/torac/code/cuisinierrebelle/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('212948ee')) {\n      api.createRecord('212948ee', component.options)\n    } else {\n      api.reload('212948ee', component.options)\n    }\n    module.hot.accept(\"./CommentLike.vue?vue&type=template&id=212948ee&\", function () {\n      api.rerender('212948ee', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/vue/components/buttons/CommentLike.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentLike.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentLike.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentLike.vue?vue&type=template&id=212948ee&\"","<template>\n  <div class=\"d-flex align-items-center text-muted mx-2 mouse-pointer\">\n    <span v-if=\"isUserLiked\" @click=\"unlike\" :class=\"['material-icons md-16 text-primary']\">thumb_up</span>\n    <span v-else @click=\"like\" :class=\"['material-icons md-16']\">thumb_up</span>\n    <span v-if=\"item.likes > 0\" :class=\"['font-weight-lighter small ml-1']\">{{ item.likes }}</span>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { isMobile } from 'mobile-device-detect'\n\nexport default {\n  name: 'CommentLike',\n  props: ['item', 'type'],\n  computed: {\n    ...mapGetters(['isAuthenticated', 'currentUser']),\n    mobile () {\n      return isMobile\n    },\n    isUserLiked () {\n      if (this.isAuthenticated) {\n        let like = []\n        if (this.type === 'comment') like = this.currentUser.commentLikes.filter(r => r === this.item.id)\n        if (this.type === 'reply') like = this.currentUser.replyLikes.filter(r => r === this.item.id)\n        return like.length > 0\n      }\n      else return false\n    },\n  },\n  methods: {\n    like () {\n      if (this.type === 'comment') {\n        const payload = {\n          comment_id: this.item.id,\n          recipe_id: this.item.recipe.id\n        }\n        console.log(payload)\n        this.$store\n          .dispatch('COMMENT_LIKE', payload)\n      }\n      if (this.type === 'reply') {\n        const payload = {\n          reply_id: this.item.id,\n          comment_id: this.item.commentId,\n          recipe_id: this.item.recipeId\n        }\n        console.log(payload)\n        this.$store\n          .dispatch('REPLY_LIKE', payload)\n      }\n    },\n    unlike () {\n      if (this.type === 'comment') {\n        const payload = {\n          comment_id: this.item.id,\n          recipe_id: this.item.recipe.id\n        }\n        console.log(payload)\n        this.$store\n          .dispatch('COMMENT_UNLIKE', payload)\n      }\n      if (this.type === 'reply') {\n        const payload = {\n          reply_id: this.item.id,\n          comment_id: this.item.commentId,\n          recipe_id: this.item.recipeId\n        }\n        console.log(payload)\n        this.$store\n          .dispatch('REPLY_UNLIKE', payload)\n      }\n    },\n  },\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"d-flex align-items-center text-muted mx-2 mouse-pointer\" },\n    [\n      _vm.isUserLiked\n        ? _c(\n            \"span\",\n            {\n              class: [\"material-icons md-16 text-primary\"],\n              on: { click: _vm.unlike }\n            },\n            [_vm._v(\"thumb_up\")]\n          )\n        : _c(\n            \"span\",\n            { class: [\"material-icons md-16\"], on: { click: _vm.like } },\n            [_vm._v(\"thumb_up\")]\n          ),\n      _vm._v(\" \"),\n      _vm.item.likes > 0\n        ? _c(\"span\", { class: [\"font-weight-lighter small ml-1\"] }, [\n            _vm._v(_vm._s(_vm.item.likes))\n          ])\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACSA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAbA;AAeA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AA1CA;AAlBA;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}