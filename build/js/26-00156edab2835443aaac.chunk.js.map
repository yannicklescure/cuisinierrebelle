{"version":3,"file":"js/26-00156edab2835443aaac.chunk.js","sources":["webpack:///./app/javascript/vue/components/Banner.vue","webpack:///./app/javascript/vue/components/Banner.vue?c73f","webpack:///./app/javascript/vue/components/Banner.vue?f90c","webpack:///Banner.vue","webpack:///./app/javascript/vue/components/Banner.vue?7195"],"sourcesContent":["import { render, staticRenderFns } from \"./Banner.vue?vue&type=template&id=6e2a67b6&\"\nimport script from \"./Banner.vue?vue&type=script&lang=js&\"\nexport * from \"./Banner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/torac/code/cuisinierrebelle/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6e2a67b6')) {\n      api.createRecord('6e2a67b6', component.options)\n    } else {\n      api.reload('6e2a67b6', component.options)\n    }\n    module.hot.accept(\"./Banner.vue?vue&type=template&id=6e2a67b6&\", function () {\n      api.rerender('6e2a67b6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/vue/components/Banner.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Banner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Banner.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Banner.vue?vue&type=template&id=6e2a67b6&\"","<template>\n  <div\n    class=\"banner-background banner-height d-flex justify-content-center justify-content-md-center align-items-center flex-column mb-3\"\n    :style=\"'background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url(' + image.url + ')'\"\n  >\n    <div class=\"banner-height d-flex flex-column justify-content-between\">\n      <div class=\"d-flex flex-column flex-grow-1 justify-content-center align-items-center\">\n        <div class=\"container\">\n          <div id=\"banner-cta-box\" class=\"text-center\">\n            <div class=\"lead text-white text-center\" v-html=\"$t('banner.introduction')\"></div>\n          </div>\n          <div id=\"banner-cta-box-btn\" class=\"d-flex mt-3 justify-content-center flex-column flex-md-row\">\n            <router-link\n              to=\"/login\"\n              class=\"btn btn-warning mt-3 mx-3 mt-md-0\"\n            >{{ $t('banner.login') }}</router-link>\n            <router-link\n              to=\"/signup\"\n              class=\"btn btn-info mt-3 mx-3 mt-md-0\"\n            >{{ $t('banner.getStarted') }}</router-link>\n          </div>\n        </div>\n        <div class=\"btn btn-link m-3 text-muted\" @click=\"scrollToCards\">{{ $t('banner.seeRecipes') }}</div>\n      </div>\n      <div class=\"d-flex justify-content-center text-muted\">\n        <div class=\"d-block mb-3\">\n          <div class=\"d-flex justify-content-center align-items-center\">\n              <span class=\"small\">Photo by&nbsp;</span>\n              <a\n                :href=\"'https://unsplash.com/@' + image.user.username + '?utm_source=cuisinier_rebelle&utm_medium=referral&utm_campaign=api-credit'\"\n                target=\"_blank\"\n                class=\"text-light small\"\n              >{{ image.user.name }}</a>\n              <span class=\"small\">&nbsp;on&nbsp;</span>\n              <a\n                :href=\"'https://unsplash.com/?utm_source=cuisinier_rebelle&utm_medium=referral'\"\n                target=\"_blank\"\n                class=\"text-light small\"\n              >Unsplash</a>\n              <a\n                @click=\"imageTrackDownload\"\n                :href=\"image.link.download\"\n                target=\"_blank\"\n                class=\"ml-2 text-light text-decoration-none\"\n              >\n                <span class=\"material-icons md-16 d-flex\">get_app</span>\n              </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { fetchBannerPicture } from '../api'\nimport Unsplash, { toJson } from 'unsplash-js';\nconst unsplash = new Unsplash({ accessKey: 'nHSH2XMCvdAgrKbLMHs1M1u7vWUW8vxEmyHvDsTOLTs' });\n\nexport default {\n  name: 'Banner',\n  data () {\n    return {\n      image: {\n        id: null,\n        url: null,\n        link: {\n          download: null,\n        },\n        user: {\n          name: null,\n          username: null\n        }\n      },\n    }\n  },\n  methods: {\n    getBannerPicture () {\n      const query = \"cooking, food, chef\"\n      // fetchBannerPicture(query)\n      unsplash.photos.getRandomPhoto({\n          query: query\n        })\n        .then(toJson)\n        .then(response => {\n          console.log(response)\n          this.image = {\n            id: response.id,\n            url: `${response.urls.raw}&w=1600&h=900&fm=webp`,\n            link: {\n              download: response.links.download,\n            },\n            user: {\n              name: response.user.name,\n              username: response.user.username,\n            }\n          }\n        })\n        .catch(error => {\n          console.log(error.response)\n        })\n    },\n\n    imageTrackDownload () {\n      console.log(`track download photo id ${this.image.id}`)\n      unsplash.photos.getPhoto(this.image.id)\n        .then(toJson)\n        .then(json => {\n          unsplash.photos.trackDownload(json);\n        })\n      // browser.downloads.download({\n      //   url : this.image.link.download,\n      //   filename : 'my-image-again.png',\n      //   conflictAction : 'uniquify'\n      // })\n    },\n\n    scrollToCards () {\n      let element = document.querySelector('#recipes-cards')\n      console.log(element)\n      const scrollOptions = {\n        top: element.offsetTop - this.navbarHeight,\n        left: 0,\n        behavior: 'smooth'\n      };\n      window.scrollTo(scrollOptions);\n    },\n  },\n  computed: {\n    ...mapGetters(['navbarHeight']),\n  },\n  beforeMount () {\n    this.getBannerPicture()\n  }\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass:\n        \"banner-background banner-height d-flex justify-content-center justify-content-md-center align-items-center flex-column mb-3\",\n      style:\n        \"background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url(\" +\n        _vm.image.url +\n        \")\"\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass:\n            \"banner-height d-flex flex-column justify-content-between\"\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass:\n                \"d-flex flex-column flex-grow-1 justify-content-center align-items-center\"\n            },\n            [\n              _c(\"div\", { staticClass: \"container\" }, [\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"text-center\",\n                    attrs: { id: \"banner-cta-box\" }\n                  },\n                  [\n                    _c(\"div\", {\n                      staticClass: \"lead text-white text-center\",\n                      domProps: {\n                        innerHTML: _vm._s(_vm.$t(\"banner.introduction\"))\n                      }\n                    })\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass:\n                      \"d-flex mt-3 justify-content-center flex-column flex-md-row\",\n                    attrs: { id: \"banner-cta-box-btn\" }\n                  },\n                  [\n                    _c(\n                      \"router-link\",\n                      {\n                        staticClass: \"btn btn-warning mt-3 mx-3 mt-md-0\",\n                        attrs: { to: \"/login\" }\n                      },\n                      [_vm._v(_vm._s(_vm.$t(\"banner.login\")))]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"router-link\",\n                      {\n                        staticClass: \"btn btn-info mt-3 mx-3 mt-md-0\",\n                        attrs: { to: \"/signup\" }\n                      },\n                      [_vm._v(_vm._s(_vm.$t(\"banner.getStarted\")))]\n                    )\n                  ],\n                  1\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"btn btn-link m-3 text-muted\",\n                  on: { click: _vm.scrollToCards }\n                },\n                [_vm._v(_vm._s(_vm.$t(\"banner.seeRecipes\")))]\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"d-flex justify-content-center text-muted\" },\n            [\n              _c(\"div\", { staticClass: \"d-block mb-3\" }, [\n                _c(\n                  \"div\",\n                  {\n                    staticClass:\n                      \"d-flex justify-content-center align-items-center\"\n                  },\n                  [\n                    _c(\"span\", { staticClass: \"small\" }, [_vm._v(\"Photo by \")]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"a\",\n                      {\n                        staticClass: \"text-light small\",\n                        attrs: {\n                          href:\n                            \"https://unsplash.com/@\" +\n                            _vm.image.user.username +\n                            \"?utm_source=cuisinier_rebelle&utm_medium=referral&utm_campaign=api-credit\",\n                          target: \"_blank\"\n                        }\n                      },\n                      [_vm._v(_vm._s(_vm.image.user.name))]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\"span\", { staticClass: \"small\" }, [_vm._v(\" on \")]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"a\",\n                      {\n                        staticClass: \"text-light small\",\n                        attrs: {\n                          href:\n                            \"https://unsplash.com/?utm_source=cuisinier_rebelle&utm_medium=referral\",\n                          target: \"_blank\"\n                        }\n                      },\n                      [_vm._v(\"Unsplash\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"a\",\n                      {\n                        staticClass: \"ml-2 text-light text-decoration-none\",\n                        attrs: {\n                          href: _vm.image.link.download,\n                          target: \"_blank\"\n                        },\n                        on: { click: _vm.imageTrackDownload }\n                      },\n                      [\n                        _c(\n                          \"span\",\n                          { staticClass: \"material-icons md-16 d-flex\" },\n                          [_vm._v(\"get_app\")]\n                        )\n                      ]\n                    )\n                  ]\n                )\n              ])\n            ]\n          )\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuDA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AANA;AADA;AAaA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AADA;AAKA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AANA;AAWA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAlDA;AAoDA;AAGA;AACA;AACA;AA1EA;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}